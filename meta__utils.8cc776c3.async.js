"use strict";(self.webpackChunk_louhaojie99_pro_components=self.webpackChunk_louhaojie99_pro_components||[]).push([[232],{15935:function(F,m,e){var p;e.r(m),e.d(m,{demos:function(){return g}});var D=e(90228),i=e.n(D),K=e(87999),P=e.n(K),N=e(75271),W=e(20147),H=e(16458),g={"src-utils-demo-parsejson":{component:N.memo(N.lazy(function(){return e.e(433).then(e.bind(e,58931))})),asset:{type:"BLOCK",id:"src-utils-demo-parsejson",refAtomIds:[],dependencies:{"index.tsx":{type:"FILE",value:e(32226).Z},"@louhaojie99/pro-components":{type:"NPM",value:"0.0.3"},react:{type:"NPM",value:"18.3.1"}},entry:"index.tsx"},context:{"@louhaojie99/pro-components":H,react:p||(p=e.t(N,2))},renderOpts:{compile:function(){var $=P()(i()().mark(function I(){var c,r=arguments;return i()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,e.e(837).then(e.bind(e,57837));case 2:return h.abrupt("return",(c=h.sent).default.apply(c,r));case 3:case"end":return h.stop()}},I)}));function U(){return $.apply(this,arguments)}return U}()}}}},16458:function(F,m,e){e.r(m),e.d(m,{AsyncButton:function(){return q},DestructibleContainer:function(){return se},EditableTable:function(){return Ie},IntlProvider:function(){return Oe},LanguageEnum:function(){return T},OverlaySpin:function(){return re},utils:function(){return p}});var p={};e.r(p),e.d(p,{parseJSON:function(){return Te}});var D=e(26068),i=e.n(D),K=e(90228),P=e.n(K),N=e(87999),W=e.n(N),H=e(48305),g=e.n(H),$=e(67825),U=e.n($),I=e(27807),c=e(75271),r=e(52676),k=["onClick"],h=c.memo(function(a){var n=a.onClick,t=U()(a,k),s=(0,c.useState)(void 0),v=g()(s,2),l=v[0],u=v[1],C=function(){var d=W()(P()().mark(function f(y){return P()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(n){o.next=2;break}return o.abrupt("return");case 2:return o.prev=2,u(!0),o.next=6,n==null?void 0:n(y);case 6:return o.prev=6,u(!1),o.finish(6);case 9:case"end":return o.stop()}},f,null,[[2,,6,9]])}));return function(y){return d.apply(this,arguments)}}();return(0,r.jsx)(I.ZP,i()({loading:l,onClick:C},t))}),q=h,ee=e(40023),ne=["spinning","background","tip"],z="overlay-spin",te=function(n){var t=n.spinning,s=n.background,v=s===void 0?"#fff":s,l=n.tip,u=U()(n,ne);return t?(0,r.jsxs)("div",{className:"".concat(z,"-container"),style:{"--background":v},children:[(0,r.jsx)(ee.Z,i()({className:z,spinning:t},u)),l&&(0,r.jsx)("div",{className:"".concat(z,"-tip"),children:l})]}):null},re=te,ae=function(n){return function(t){var s=t.visible,v=t.open,l=t.afterVisibleChange,u=t.afterOpenChange,C=t.afterClose,d=s!=null?s:v,f=l!=null?l:u,y=(0,c.useState)(d),O=g()(y,2),o=O[0],x=O[1],Q=(0,c.useState)(d===!1),J=g()(Q,2),S=J[0],A=J[1],M=function(L){f==null||f(L),L||A(!0)},E=function(){C==null||C(),A(!0)};return(0,c.useEffect)(function(){d?(A(!1),setTimeout(function(){return x(d)},0)):x(d)},[d]),S?(0,r.jsx)(r.Fragment,{}):(0,r.jsx)(n,i()(i()({},t),{},{open:o,afterOpenChange:M,afterClose:E}))}},se=ae,oe=e(69417),le=e(35862),T=function(a){return a.ZH_CN="zh-CN",a.EN_US="en-US",a}({}),ie=e(82092),w=e.n(ie),ue=e(66262),de=e(20973),ce=e(83144),ve=e(78843),me={welcome:"hello world"},fe=me,he={welcome:"\u4F60\u597D\u4E16\u754C"},pe=he,_=function(n){var t=w()(w()({},T.ZH_CN,{message:pe,antd:de.Z}),T.EN_US,{message:fe,antd:ue.Z});return t[n]},ge=(0,ce.Sn)(),Ce=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:T.ZH_CN;return(0,ve.d)({locale:n,messages:_(n).message},ge)},ye=c.memo(function(a){var n=a.locale,t=a.children,s=Ce(n);return(0,r.jsx)(le.zt,{value:s,children:(0,r.jsx)(oe.ZP,{locale:_(n).antd,children:t})})}),Oe=ye,Se=e(15558),Ee=e.n(Se),Pe=e(29369),je=e(72149),De=e(72774),Ne=e(63801),G=e(42748),Ae=e(77995),be=Ne.Z.Link,Ue=function(n){var t=n.className,s=n.style,v=n.bordered,l=v===void 0?!1:v,u=n.columns,C=n.formRef,d=n.options,f=d!=null?d:{},y=f.onlyPreview,O=y===void 0?!1:y,o=f.hideAdd,x=o===void 0?!1:o,Q=G.Z.useForm(),J=g()(Q,1),S=J[0],A=(0,je.Z)(n,{defaultValuePropName:"defaultValue",valuePropName:"value",trigger:"onChange"}),M=g()(A,2),E=M[0],X=M[1];(0,c.useEffect)(function(){S.setFieldsValue({items:E!=null?E:[]})},[E]),(0,c.useImperativeHandle)(C,function(){return S});var L=(0,De.Z)(function(V){var j=V.remove;return[].concat(Ee()(u!=null?u:[]),[{title:"\u64CD\u4F5C",dataIndex:"action",fixed:"right",render:function(Z,Y){return(0,r.jsx)(be,{disabled:!!O,onClick:function(){return j(Y.key)},children:"\u5220\u9664"})}}])}),xe=function(j){X(j)};return(0,r.jsx)(G.Z,{className:t,form:S,style:i()({},s),autoComplete:"off",component:!1,disabled:!!O,initialValues:{items:E},onValuesChange:function(j,b){var Z=b.items;xe(Z)},children:(0,r.jsx)(G.Z.List,{name:"items",children:function(j,b){var Z=b.add,Y=b.remove;return(0,r.jsx)(Ae.Z,i()(i()({rowKey:"key",bordered:l,dataSource:j.map(function(R){return i()(i()({},S.getFieldValue(["items",R.key])),{},{key:R.name})}),columns:L({remove:Y})},!x&&{footer:function(){return(0,r.jsx)(I.ZP,{block:!0,icon:(0,r.jsx)(Pe.Z,{}),type:"dashed",disabled:!!O,onClick:W()(P()().mark(function Je(){return P()().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return B.next=2,S.validateFields();case 2:Z();case 3:case"end":return B.stop()}},Je)})),children:"\u6DFB\u52A0\u4E00\u884C"})}}),{},{pagination:!1,scroll:{x:"max-content"}}))}})})},Ie=Ue,Te=function(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=function(u){return typeof u=="string"};try{if(!s(n))return t;var v=JSON.parse(n!=null?n:"");return v}catch(l){return console.error("Error parsing JSON:",l),t}}},40065:function(F,m,e){e.r(m),e.d(m,{texts:function(){return D}});var p=e(20147);const D=[{value:"\u5E38\u7528\u7684\u5DE5\u5177\u65B9\u6CD5",paraId:0,tocIndex:0}]},32226:function(F,m){m.Z=`import { utils } from '@louhaojie99/pro-components';
import React from 'react';

type User = { name: string; age: number };

const { parseJSON } = utils;

const App: React.FC = () => {
  const userJsonString = JSON.stringify({ name: '\u5C0F\u9177', age: 20 });
  const userListJsonString = JSON.stringify([{ name: '\u5C0F\u9177', age: 20 }]);

  const parsedUser = parseJSON<User>(userJsonString, {});
  const parsedUserList = parseJSON<User[]>(userListJsonString, []);

  return (
    <div>
      <pre>{JSON.stringify(parsedUser, null, 2)}</pre>

      <br />

      <pre>{JSON.stringify(parsedUserList, null, 2)}</pre>
    </div>
  );
};

export default App;
`}}]);
