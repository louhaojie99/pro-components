"use strict";(self.webpackChunk_louhaojie99_pro_components=self.webpackChunk_louhaojie99_pro_components||[]).push([[237],{90171:function(H,d,e){var C;e.r(d),e.d(d,{demos:function(){return g}});var D=e(90228),l=e.n(D),K=e(87999),E=e.n(K),x=e(75271),W=e(45236),J=e(16458),g={"asyncbutton-demo-demos":{component:x.memo(x.lazy(function(){return e.e(290).then(e.bind(e,27117))})),asset:{type:"BLOCK",id:"asyncbutton-demo-demos",refAtomIds:["AsyncButton"],dependencies:{"index.tsx":{type:"FILE",value:e(98966).Z},"@louhaojie99/pro-components":{type:"NPM",value:"0.0.4"},react:{type:"NPM",value:"18.3.1"}},entry:"index.tsx"},context:{"@louhaojie99/pro-components":J,react:C||(C=e.t(x,2))},renderOpts:{compile:function(){var $=E()(l()().mark(function M(){var i,a=arguments;return l()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,e.e(837).then(e.bind(e,57837));case 2:return h.abrupt("return",(i=h.sent).default.apply(i,a));case 3:case"end":return h.stop()}},M)}));function B(){return $.apply(this,arguments)}return B}()}}}},16458:function(H,d,e){e.r(d),e.d(d,{AsyncButton:function(){return h},DestructibleContainer:function(){return q},EditableTable:function(){return ue},IntlProvider:function(){return Ae},LanguageEnum:function(){return T},OverlaySpin:function(){return De},utils:function(){return C}});var C={};e.r(C),e.d(C,{getUrlSearchParams:function(){return Oe},parseJson:function(){return xe}});var D=e(26068),l=e.n(D),K=e(90228),E=e.n(K),x=e(87999),W=e.n(x),J=e(48305),g=e.n(J),$=e(67825),B=e.n($),M=e(27807),i=e(75271),a=e(52676),k=["onClick"],h=i.memo(function(r){var n=r.onClick,t=B()(r,k),s=(0,i.useState)(void 0),f=g()(s,2),c=f[0],m=f[1],y=function(){var u=W()(E()().mark(function p(P){var v;return E()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(!(!n||typeof n!="function")){o.next=2;break}return o.abrupt("return");case 2:if(v=n(P),!(v instanceof Promise)){o.next=11;break}return o.prev=4,m(!0),o.next=8,v;case 8:return o.prev=8,m(!1),o.finish(8);case 11:case"end":return o.stop()}},p,null,[[4,,8,11]])}));return function(P){return u.apply(this,arguments)}}();return(0,a.jsx)(M.ZP,l()({loading:c,onClick:y},t))}),q=function(n){return function(t){var s=t.visible,f=t.open,c=t.afterVisibleChange,m=t.afterOpenChange,y=t.afterClose,u=s!=null?s:f,p=c!=null?c:m,P=(0,i.useState)(u),v=g()(P,2),O=v[0],o=v[1],Q=(0,i.useState)(u===!1),U=g()(Q,2),I=U[0],S=U[1],N=function(R){p==null||p(R),R||S(!0)},A=function(){y==null||y(),S(!0)};return(0,i.useEffect)(function(){u?(S(!1),setTimeout(function(){return o(u)},0)):o(u)},[u]),I?(0,a.jsx)(a.Fragment,{}):(0,a.jsx)(n,l()(l()({},t),{},{open:O,afterOpenChange:N,afterClose:A}))}},ee=e(15558),ne=e.n(ee),te=e(29369),ae=e(72149),re=e(72774),oe=e(63801),z=e(42748),se=e(77995),le=oe.Z.Link,ue=function(n){var t=n.className,s=n.style,f=n.bordered,c=f===void 0?!1:f,m=n.columns,y=n.formRef,u=n.options,p=u!=null?u:{},P=p.onlyPreview,v=P===void 0?!1:P,O=p.hideAdd,o=O===void 0?!1:O,Q=z.Z.useForm(),U=g()(Q,1),I=U[0],S=(0,ae.Z)(n,{defaultValuePropName:"defaultValue",valuePropName:"value",trigger:"onChange"}),N=g()(S,2),A=N[0],X=N[1];(0,i.useEffect)(function(){I.setFieldsValue({items:A!=null?A:[]})},[A]),(0,i.useImperativeHandle)(y,function(){return I});var R=(0,re.Z)(function(L){var j=L.remove;return[].concat(ne()(m!=null?m:[]),[{title:"\u64CD\u4F5C",dataIndex:"action",fixed:"right",render:function(V,Y){return(0,a.jsx)(le,{disabled:!!v,onClick:function(){return j(Y.key)},children:"\u5220\u9664"})}}])}),Se=function(j){X(j)};return(0,a.jsx)(z.Z,{className:t,form:I,style:l()({},s),autoComplete:"off",component:!1,disabled:!!v,initialValues:{items:A},onValuesChange:function(j,b){var V=b.items;Se(V)},children:(0,a.jsx)(z.Z.List,{name:"items",children:function(j,b){var V=b.add,Y=b.remove;return(0,a.jsx)(se.Z,l()(l()({rowKey:"key",bordered:c,dataSource:j.map(function(Z){return l()(l()({},I.getFieldValue(["items",Z.key])),{},{key:Z.name})}),columns:R({remove:Y})},!o&&{footer:function(){return(0,a.jsx)(M.ZP,{block:!0,icon:(0,a.jsx)(te.Z,{}),type:"dashed",disabled:!!v,onClick:W()(E()().mark(function be(){return E()().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:return F.next=2,I.validateFields();case 2:V();case 3:case"end":return F.stop()}},be)})),children:"\u6DFB\u52A0\u4E00\u884C"})}}),{},{pagination:!1,scroll:{x:"max-content"}}))}})})},ie=e(69417),de=e(35862),T=function(r){return r.ZH_CN="zh-CN",r.EN_US="en-US",r}({}),ce=e(82092),w=e.n(ce),me=e(66262),ve=e(20973),fe=e(83144),pe=e(78843),he={welcome:"hello world"},Ce=he,ge={welcome:"\u4F60\u597D\u4E16\u754C"},ye=ge,_=function(n){var t=w()(w()({},T.ZH_CN,{message:ye,antd:ve.Z}),T.EN_US,{message:Ce,antd:me.Z});return t[n]},Pe=(0,fe.Sn)(),Ie=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:T.ZH_CN;return(0,pe.d)({locale:n,messages:_(n).message},Pe)},Ae=i.memo(function(r){var n=r.locale,t=r.children,s=Ie(n);return(0,a.jsx)(de.zt,{value:s,children:(0,a.jsx)(ie.ZP,{locale:_(n).antd,children:t})})}),Ee=e(40023),je=["spinning","background","tip"],G="overlay-spin",De=function(n){var t=n.spinning,s=n.background,f=s===void 0?"#fff":s,c=n.tip,m=B()(n,je);return t?(0,a.jsxs)("div",{className:"".concat(G,"-container"),style:{"--background":f},children:[(0,a.jsx)(Ee.Z,l()({className:G,spinning:t},m)),c&&(0,a.jsx)("div",{className:"".concat(G,"-tip"),children:c})]}):null},xe=function(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(typeof n!="string")return t;try{return JSON.parse(n)}catch(s){return console.error("parse json error:",s),t}},Oe=function(){var n=window.location.href.split("?")[1],t=new URLSearchParams(n);return Object.fromEntries(t.entries())}},38439:function(H,d,e){e.r(d),e.d(d,{texts:function(){return D}});var C=e(45236);const D=[{value:"\u4E00\u4E2A\u652F\u6301\u5F02\u6B65\u7684\u6309\u94AE\uFF0ConClick \u4F20\u5165\u5F02\u6B65\u51FD\u6570\u5219\u81EA\u52A8\u663E\u793A loading",paraId:0,tocIndex:0},{value:"\u5F53\u4F60\u9700\u8981\u5728\u6309\u94AE\u70B9\u51FB\u540E\u6267\u884C\u5F02\u6B65\u64CD\u4F5C\uFF08\u5982\u7F51\u7EDC\u8BF7\u6C42\uFF09\u5E76\u81EA\u52A8\u663E\u793A\u52A0\u8F7D\u72B6\u6001\u65F6\uFF0C\u4F7F\u7528 AsyncButton\u3002",paraId:1,tocIndex:1},{value:"\u5C5E\u6027",paraId:2,tocIndex:3},{value:"\u8BF4\u660E",paraId:2,tocIndex:3},{value:"\u9ED8\u8BA4\u503C",paraId:2,tocIndex:3},{value:"onClick",paraId:2,tocIndex:3},{value:"\u70B9\u51FB\u6309\u94AE\u65F6\u89E6\u53D1\u7684\u56DE\u8C03\u51FD\u6570\uFF0C\u5E94\u8BE5\u8FD4\u56DE\u4E00\u4E2A Promise\uFF0C\u6309\u94AE\u5C06\u5904\u4E8E\u52A0\u8F7D\u72B6\u6001\u3002",paraId:2,tocIndex:3},{value:"(event: React.MouseEvent<HTMLElement, MouseEvent>) => Promise<any>",paraId:2,tocIndex:3},{value:"AsyncButton \u57FA\u4E8E Ant Design \u7684 Button \u7EC4\u4EF6\u5F00\u53D1\uFF0C\u652F\u6301\u6240\u6709 Button \u7684\u5C5E\u6027\u3002\u66F4\u591A\u5C5E\u6027\u8BE6\u60C5\u53EF\u4EE5\u53C2\u8003 ",paraId:3,tocIndex:3},{value:"Ant Design Button API",paraId:3,tocIndex:3},{value:"\u3002",paraId:3,tocIndex:3}]},98966:function(H,d){d.Z=`import type { AsyncButtonProps } from '@louhaojie99/pro-components';
import { AsyncButton } from '@louhaojie99/pro-components';
import React from 'react';

function sleep(time: number) {
  return new Promise((resolve) => {
    setTimeout(resolve, time);
  });
}

const App: React.FC = () => {
  const handleClick: AsyncButtonProps['onClick'] = async () => {
    await sleep(2000);
  };

  return (
    <div>
      <AsyncButton type="primary" onClick={handleClick}>
        AsyncButton
      </AsyncButton>
    </div>
  );
};

export default App;
`}}]);
