"use strict";(self.webpackChunk_louhaojie99_pro_components=self.webpackChunk_louhaojie99_pro_components||[]).push([[259],{52259:function(Gn,ne,o){o.r(ne),o.d(ne,{AsyncButton:function(){return ge},CollapseSelect:function(){return xe},EditableTable:function(){return Ne},ErrorBoundary:function(){return dn},HOCS:function(){return X},HOOKS:function(){return Y},IntlProvider:function(){return Ge},Language:function(){return W},OverlaySpin:function(){return Xe},Portal:function(){return _e},SearchForm:function(){return ue},TabsSelect:function(){return ke},Utils:function(){return J}});var J={};o.r(J),o.d(J,{getColumnFilterProps:function(){return yn},getColumnSearchProps:function(){return Sn},getColumnSorterProps:function(){return Pn},getUrlParams:function(){return jn},mergeSameValueRowCell:function(){return Vn},parseJson:function(){return Cn}});var X={};o.r(X),o.d(X,{destructibleContainer:function(){return xn},optionInValueSelect:function(){return En},withProviders:function(){return Zn},withSelectAll:function(){return An}});var Y={};o.r(Y),o.d(Y,{useBoolean:function(){return Bn},useControllableValue:function(){return zn},useDidMount:function(){return Nn},useDisableSwipe:function(){return In},useEffectOnceWhen:function(){return Tn},useSetState:function(){return Dn},useTitle:function(){return Un},useUpdateEffect:function(){return $n},useUrlParams:function(){return Hn},useWillUnmount:function(){return Rn}});var ce=o(26068),C=o.n(ce),de=o(90228),K=o.n(de),fe=o(87999),Q=o.n(fe),ve=o(48305),I=o.n(ve),me=o(67825),U=o.n(me),B=o(65e3),v=o(75271),u=o(52676),he=["onClick"],ge=v.memo(function(i){var e=i.onClick,n=U()(i,he),r=(0,v.useState)(void 0),t=I()(r,2),a=t[0],l=t[1],d=function(){var s=Q()(K()().mark(function c(f){var h;return K()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:if(!(!e||typeof e!="function")){m.next=2;break}return m.abrupt("return");case 2:if(h=e(f),!(h instanceof Promise)){m.next=11;break}return m.prev=4,l(!0),m.next=8,h;case 8:return m.prev=8,l(!1),m.finish(8);case 11:case"end":return m.stop()}},c,null,[[4,,8,11]])}));return function(f){return s.apply(this,arguments)}}();return(0,u.jsx)(B.ZP,C()({loading:a,onClick:d},n))}),Ce=o(5533),k=o(27816),re=o(34189),q=o(33696),pe=o(31),z=o(54158),Se=o(82187),ye=o.n(Se),R=o(32699),Pe=["loading","options","defaultValue","collapseProps","defaultActiveFirst"],Ve=["className"],je="collapse-select",xe=function(e){var n,r=e.loading,t=r===void 0?!1:r,a=e.options,l=e.defaultValue,d=e.collapseProps,s=e.defaultActiveFirst,c=s===void 0?!1:s,f=U()(e,Pe),h=d!=null?d:{},g=h.className,m=U()(h,Ve),y=c?a==null||(n=a[0])===null||n===void 0?void 0:n.panelKey:void 0,F=(0,k.Z)(e,{defaultValue:l||{activeKey:y,selectValue:void 0}}),V=I()(F,2),P=V[0],N=V[1],b=P!=null?P:{},A=b.activeKey,T=A===void 0?y:A,M=b.selectValue,p=(0,v.useMemo)(function(){return(0,R.keyBy)(a,"panelKey")},[a]),O=(0,v.useMemo)(function(){var j,S;return T?(j=(S=p[T])===null||S===void 0?void 0:S.panelOptions)!==null&&j!==void 0?j:[]:[]},[p,T]),D=function(S){console.log("keys: ",S),N(function(x){return C()(C()({},x),{},{activeKey:S[0]})})},E=function(S,x){N(function(Z){return C()(C()({},Z),{},{selectValue:x})})};return(0,u.jsx)(re.default,C()({loading:t,dropdownRender:function(S){return(0,u.jsx)(q.Z,{spinning:t,children:(0,u.jsx)(pe.Z,C()({className:ye()("".concat(je,"-collapse-wrapper-container"),g),accordion:!0,ghost:!0,expandIcon:function(Z){var L=Z.isActive;return(0,u.jsx)(Ce.Z,{rotate:L?90:0})},activeKey:T,items:Object.values(p).map(function(x){return{key:x.panelKey,label:x.panelLabel||x.panelKey,children:S}}),onChange:D},m))})},notFoundContent:(0,u.jsx)(z.Z,{image:z.Z.PRESENTED_IMAGE_SIMPLE}),labelInValue:!0,defaultActiveFirstOption:!1,value:M,onChange:E,options:O},(0,R.omit)(f,["value","onChange"])))},be=o(15558),Ee=o.n(be),Oe=o(37322),te=o(86948),Fe=o(83396),$=o(61080),Ae=o(78614),Ze=[],Ie=Fe.Z.Link,Ne=function(e){var n=e.className,r=e.style,t=e.bordered,a=t===void 0?!1:t,l=e.columns,d=l===void 0?Ze:l,s=e.formRef,c=e.options,f=e.tableProps,h=c!=null?c:{},g=h.onlyPreview,m=g===void 0?!1:g,y=h.hideAdd,F=y===void 0?!1:y,V=h.addButtonText,P=(0,v.useMemo)(function(){return(0,R.omit)(f,["rowKey","bordered","dataSource","columns","footer"])},[f]),N=$.Z.useForm(),b=I()(N,1),A=b[0],T=(0,k.Z)(e,{defaultValuePropName:"defaultValue",valuePropName:"value",trigger:"onChange"}),M=I()(T,2),p=M[0],O=M[1];(0,v.useEffect)(function(){A.setFieldsValue({items:p!=null?p:[]})},[p]),(0,v.useImperativeHandle)(s,function(){return A});var D=(0,te.Z)(function(j){var S=j.remove;return[].concat(Ee()(d),[{title:"\u64CD\u4F5C",dataIndex:"action",fixed:"right",render:function(Z,L){return(0,u.jsx)(Ie,{disabled:!!m,onClick:function(){return S(L.key)},children:"\u5220\u9664"})}}])}),E=(0,te.Z)(function(j){O(j)});return(0,u.jsx)($.Z,{className:n,form:A,style:C()({},r),autoComplete:"off",component:!1,disabled:!!m,initialValues:{items:p},onValuesChange:function(S,x){var Z=x.items;E(Z)},children:(0,u.jsx)($.Z.List,{name:"items",children:function(S,x){var Z=x.add,L=x.remove;return(0,u.jsx)(Ae.Z,C()(C()({rowKey:"key",bordered:a,dataSource:S.map(function(w){return C()(C()({},A.getFieldValue(["items",w.key])),{},{key:w.name})}),columns:D({remove:L})},!F&&{footer:function(){return(0,u.jsx)(B.ZP,{block:!0,icon:(0,u.jsx)(Oe.Z,{}),type:"dashed",disabled:!!m,onClick:Q()(K()().mark(function wn(){return K()().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:return G.next=2,A.validateFields();case 2:Z();case 3:case"end":return G.stop()}},wn)})),children:V||"\u6DFB\u52A0\u4E00\u884C"})}}),{},{pagination:!1,scroll:{x:"max-content"}},P))}})})},Te=o(12457),Re=o(11463),W=function(i){return i.ZH_CN="zh-CN",i.EN_US="en-US",i}({}),De=o(82092),H=o.n(De),$e=o(82669),Me=o(12504),Ue=o(70995),Be=o(16920),Ke={welcome:"hello world"},Le=Ke,ze={welcome:"\u4F60\u597D\u4E16\u754C"},We=ze,ae=function(e){var n=H()(H()({},W.ZH_CN,{message:We,antd:Me.Z}),W.EN_US,{message:Le,antd:$e.Z});return n[e]},He=(0,Ue.Sn)(),we=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:W.ZH_CN;return(0,Be.d)({locale:e,messages:ae(e).message},He)},Ge=v.memo(function(i){var e=i.locale,n=i.children,r=we(e);return(0,u.jsx)(Re.zt,{value:r,children:(0,u.jsx)(Te.ZP,{locale:ae(e).antd,children:n})})}),Je=["spinning","background","tip"],_="overlay-spin",Xe=function(e){var n=e.spinning,r=e.background,t=r===void 0?"#fff":r,a=e.tip,l=U()(e,Je);return n?(0,u.jsxs)("div",{className:"".concat(_,"-container"),style:{"--background":t},children:[(0,u.jsx)(q.Z,C()({className:_,spinning:n},l)),a&&(0,u.jsx)("div",{className:"".concat(_,"-tip"),children:a})]}):null},Ye=o(26097),Qe=["loading","options","defaultValue","tabsProps"],ke=function(e){var n,r,t=e.loading,a=t===void 0?!1:t,l=e.options,d=e.defaultValue,s=e.tabsProps,c=U()(e,Qe),f=(n=l==null||(r=l[0])===null||r===void 0?void 0:r.tabKey)!==null&&n!==void 0?n:"",h=(0,k.Z)(e,{defaultValue:d||{activeTab:f,selectValue:void 0}}),g=I()(h,2),m=g[0],y=g[1],F=m!=null?m:{},V=F.activeTab,P=V===void 0?f:V,N=F.selectValue,b=(0,v.useMemo)(function(){return(0,R.keyBy)(l,"tabKey")},[l]),A=(0,v.useMemo)(function(){var p,O;return P?(p=(O=b[P])===null||O===void 0?void 0:O.tabOptions)!==null&&p!==void 0?p:[]:[]},[b,P]),T=function(O){y(function(D){return C()(C()({},D),{},{activeTab:O})})},M=function(O,D){y(function(E){return C()(C()({},E),{},{selectValue:D})})};return(0,u.jsx)(re.default,C()({loading:a,dropdownRender:function(O){var D=(0,u.jsx)(q.Z,{spinning:a,children:O});return l?(0,u.jsx)(Ye.Z,C()({style:{padding:"0 8px"},size:"small",items:l==null?void 0:l.map(function(E){return{key:E.tabKey,label:E.tabLabel,children:D,disabled:a}}),activeKey:P,onChange:T},s)):D},notFoundContent:(0,u.jsx)(z.Z,{image:z.Z.PRESENTED_IMAGE_SIMPLE}),labelInValue:!0,defaultActiveFirstOption:!1,value:N,options:A,onChange:M},(0,R.omit)(c,["value","onChange"])))},qe=o(30967),_e=function(e){var n=e.getContainer,r=e.children,t=n?n():document.body;return qe.createPortal(r,t)},en=o(25298),nn=o.n(en),rn=o(17069),tn=o.n(rn),an=o(62657),le=o.n(an),ln=o(21742),on=o.n(ln),un=o(83136),sn=o.n(un),cn=function(e){var n=e.error,r=e.errorInfo,t=e.resetError;return(0,u.jsxs)("div",{style:{padding:"20px",color:"#f00",backgroundColor:"#fdd",borderRadius:"6px"},children:[(0,u.jsx)("h3",{children:"\u51FA\u73B0\u9519\u8BEF\u5566 \u{1F622}"}),(0,u.jsx)("p",{children:n==null?void 0:n.message}),(0,u.jsx)("pre",{style:{whiteSpace:"pre-wrap"},children:r==null?void 0:r.componentStack}),(0,u.jsx)("button",{onClick:function(){return t==null?void 0:t()},children:"\u91CD\u8BD5"})]})},dn=function(i){on()(n,i);var e=sn()(n);function n(){var r;nn()(this,n);for(var t=arguments.length,a=new Array(t),l=0;l<t;l++)a[l]=arguments[l];return r=e.call.apply(e,[this].concat(a)),H()(le()(r),"state",{hasError:!1,error:null,errorInfo:null}),H()(le()(r),"resetError",function(){r.setState({hasError:!1,error:null,errorInfo:null})}),r}return tn()(n,[{key:"componentDidUpdate",value:function(t,a){a.hasError&&!this.state.hasError&&this.setState({error:null,errorInfo:null})}},{key:"componentDidCatch",value:function(t,a){var l=this.props.onError;this.setState({error:t,errorInfo:a}),l==null||l(t,a)}},{key:"render",value:function(){var t=this.state,a=t.hasError,l=t.error,d=t.errorInfo,s=this.props,c=s.fallbackRender,f=s.children;return a?c?(0,u.jsx)("div",{className:"error-boundary",children:c(l,d,this.resetError)}):(0,u.jsx)(cn,{error:l,errorInfo:d,resetError:this.resetError}):f}}],[{key:"getDerivedStateFromError",value:function(t){return{hasError:!0,error:t}}}]),n}(v.Component),oe=o(22600),fn=o(97365),vn=o(99098),mn=o(3883),hn=o(40112),ee=o(98901),gn=o(97992),ue=function(e){var n=e.className,r=e.style,t=e.items,a=e.onSearch,l=e.onReset,d=e.showCollapse,s=e.defaultVisibleItemCount,c=s===void 0?3:s,f=e.colSpan,h=f===void 0?8:f,g=e.searchLoading,m=g===void 0?!1:g,y=$.Z.useForm(),F=I()(y,1),V=F[0],P=(0,v.useState)(!!(d&&t.length>c)),N=I()(P,2),b=N[0],A=N[1],T=function(){var E=Q()(K()().mark(function j(){var S;return K()().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:return Z.next=2,V.validateFields();case 2:S=Z.sent,a==null||a(S);case 4:case"end":return Z.stop()}},j)}));return function(){return E.apply(this,arguments)}}(),M=function(){V.resetFields(),l==null||l()},p=(0,v.useMemo)(function(){return b?t.slice(0,c):t},[b,t,c]),O=(0,v.useMemo)(function(){return(0,u.jsxs)(hn.Z,{size:"middle",children:[(0,u.jsx)(B.ZP,{type:"primary",icon:(0,u.jsx)(oe.Z,{}),loading:m,onClick:T,children:"\u67E5\u8BE2"}),(0,u.jsx)(B.ZP,{type:"default",icon:(0,u.jsx)(fn.Z,{}),onClick:M,children:"\u91CD\u7F6E"}),d&&(0,u.jsx)(B.ZP,{type:"link",icon:b?(0,u.jsx)(vn.Z,{}):(0,u.jsx)(mn.Z,{}),onClick:function(){return A(!b)},children:b?"\u5C55\u5F00":"\u6536\u8D77"})]})},[V,a,l,b,m]),D=function(){var j=Math.floor(24/h),S=p.length%j,x=S===0?0:24-S*h;return p.length*h<=24||x>0?(0,u.jsx)(ee.Z,{flex:"auto",style:{textAlign:"right"},children:(0,u.jsx)($.Z.Item,{children:O})}):(0,u.jsx)(ee.Z,{span:24,style:{textAlign:"right"},children:(0,u.jsx)($.Z.Item,{children:O})})};return(0,u.jsx)($.Z,{className:n,style:C()({},r),form:V,autoComplete:"off",children:(p==null?void 0:p.length)>0&&(0,u.jsxs)(gn.Z,{gutter:[16,0],align:"middle",children:[p.map(function(E){return(0,u.jsx)(ee.Z,{span:h,children:(0,u.jsx)($.Z.Item,C()({},E))},E.name)}),D()]})})},Jn=function(){return _jsxs(_Fragment,{children:[_jsx(ue,{items:Array.from({length:13}).map(function(i,e){return{label:"\u6D4B\u8BD5\u9009\u9879"+e,name:"test"+e,children:_jsx(Input,{}),rules:[{required:!0}]}}),onSearch:function(e){console.log("onSearch: ",e)},onReset:function(){console.log("onReset: ")},showCollapse:!0,defaultVisibleItemCount:3}),_jsx(Table,{})]})},Cn=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(typeof e!="string")return n;try{return JSON.parse(e)}catch(r){return console.error("parse json error:",r),n}},pn=o(69107),ie=function(e,n,r){var t=(0,R.get)(n,r);return String(t!=null?t:"").toUpperCase().includes(String(e!=null?e:"").toUpperCase())},Sn=function(e){return{filterDropdown:function(r){var t=r.setSelectedKeys,a=r.selectedKeys,l=r.confirm,d=r.clearFilters;return(0,u.jsxs)("div",{style:{padding:8},children:[(0,u.jsx)(pn.Z,{placeholder:"\u641C\u7D22",value:a[0],onChange:function(c){return t(c.target.value?[c.target.value]:[])},onPressEnter:function(){return l()},style:{width:188,marginBottom:8,display:"block"}}),(0,u.jsx)(B.ZP,{size:"small",type:"primary",onClick:function(){return l()},style:{width:90,marginRight:8},children:"\u641C\u7D22"}),(0,u.jsx)(B.ZP,{size:"small",type:"default",onClick:function(){return d==null?void 0:d()},style:{width:90},children:"\u91CD\u7F6E"})]})},filterIcon:function(r){return(0,u.jsx)(oe.Z,{style:{color:r?"#2f54eb":void 0}})},onFilter:function(r,t){return ie(r,t,e)}}},yn=function(e,n){var r=n!=null?n:{},t=r.filters,a=r.filterMultiple;return{onFilter:function(d,s){return ie(d,s,e)},filters:t,filterMultiple:a}},Pn=function(e){return{sorter:function(r,t){var a=(0,R.get)(r,e),l=(0,R.get)(t,e),d=Number(a),s=Number(l);return!Number.isNaN(d)&&!Number.isNaN(s)?d-s:(0,R.isString)(a)&&(0,R.isString)(l)?a.localeCompare(l):0}}},Vn=function(e,n){var r=function(a,l){var d,s,c=a[n],f=(d=e[l+1])===null||d===void 0?void 0:d[n],h=(s=e[l-1])===null||s===void 0?void 0:s[n],g=e.findIndex(function(y){return y[n]===c});if(c===f&&g===l){var m=e.filter(function(y){return y[n]===c}).length;return{rowSpan:m}}return c===h?{rowSpan:0}:{}};return{onCell:r}},jn=function(){var e=window.location.href.split("?")[1],n=new URLSearchParams(e);return Object.fromEntries(n.entries())},xn=function(e){return function(n){var r=n.visible,t=n.open,a=n.afterVisibleChange,l=n.afterOpenChange,d=n.afterClose,s=r!=null?r:t,c=a!=null?a:l,f=(0,v.useState)(s),h=I()(f,2),g=h[0],m=h[1],y=(0,v.useState)(s===!1),F=I()(y,2),V=F[0],P=F[1],N=function(T){c==null||c(T),T||P(!0)},b=function(){d==null||d(),P(!0)};return(0,v.useEffect)(function(){s?(P(!1),setTimeout(function(){return m(s)},0)):m(s)},[s]),V?(0,u.jsx)(u.Fragment,{}):(0,u.jsx)(e,C()(C()({},n),{},{open:g,afterOpenChange:N,afterClose:b}))}},bn=["optionInValue","value","labelInValue","onChange"],En=function(e){return function(n){var r=n.optionInValue,t=n.value,a=n.labelInValue,l=n.onChange,d=U()(n,bn),s=function(f,h){!(0,R.isNil)(f)&&r?l==null||l(h,h):l==null||l(f,h)};return(0,u.jsx)(e,C()({value:t,labelInValue:a!=null?a:r,onChange:s},d))}},On=["allOptionValue","onChange"],Fn="all",An=function(e){return function(n){var r=n.allOptionValue,t=r===void 0?Fn:r,a=n.onChange,l=U()(n,On),d=function(c,f){if(!Array.isArray(c)||!Array.isArray(f)){a==null||a(c,f);return}var h=(0,R.last)(c);if(c.length===0||h===t){a==null||a([t],f==null?void 0:f.filter(function(g){return g.value===t}));return}a==null||a(c.filter(function(g){return g!==t}),f==null?void 0:f.filter(function(g){return g.value!==t}))};return(0,u.jsx)(e,C()({mode:"multiple",onChange:d},l))}},Zn=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return function(t){return n.reduce(function(a,l){return l(a)},t)}},se=function(e){var n=document.querySelector("html"),r=document.querySelector("body");n&&r&&(e?(n.style.overscrollBehaviorX="none",r.style.overscrollBehaviorX="none"):(n.style.overscrollBehaviorX="auto",r.style.overscrollBehaviorX="auto"))},In=function(){(0,v.useEffect)(function(){return se(!0),function(){se(!1)}},[])},Nn=function(e){(0,v.useEffect)(function(){typeof e=="function"&&e()},[])},Tn=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=(0,v.useRef)(e),t=(0,v.useRef)(!1);(0,v.useEffect)(function(){r.current=e}),(0,v.useEffect)(function(){n&&!t.current&&typeof r.current=="function"&&(r.current(),t.current=!0)},[n])},Rn=function(e){(0,v.useEffect)(function(){if(typeof e=="function")return e},[])},Dn=function(e){var n=(0,v.useState)(e),r=I()(n,2),t=r[0],a=r[1],l=(0,v.useCallback)(function(s){a(function(c){var f=typeof s=="function"?s(c):s;return f?C()(C()({},c),f):c})},[a]),d=(0,v.useMemo)(function(){return[t,l]},[t,l]);return d},$n=function(e,n){var r=(0,v.useRef)(!1);(0,v.useEffect)(function(){if(!r.current){r.current=!0;return}return typeof e=="function"?e():function(){r.current=!1}},n)},Mn=!!(typeof window!="undefined"&&window.document&&window.document.createElement),Un=function(e,n){var r=n!=null?n:{},t=r.restoreOnUnmount,a=t===void 0?!1:t,l=(0,v.useRef)(Mn?document.title:"");(0,v.useEffect)(function(){return document.title=e,function(){a&&(document.title=l.current)}},[e])},Bn=function(e){var n=(0,v.useState)(e),r=I()(n,2),t=r[0],a=r[1],l=(0,v.useMemo)(function(){var s=function(){a(function(m){return!m})},c=function(m){a(!!m)},f=function(){a(!0)},h=function(){a(!1)};return{toggle:s,set:c,setTrue:f,setFalse:h}},[]),d=(0,v.useMemo)(function(){return[t,l]},[t,l]);return d},Kn={},Ln={};function zn(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Kn,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ln,n=e!=null?e:{},r=n.defaultValue,t=n.defaultValuePropName,a=t===void 0?"defaultValue":t,l=n.valuePropName,d=l===void 0?"value":l,s=n.trigger,c=s===void 0?"onChange":s,f=i[d],h=i[c],g=Object.prototype.hasOwnProperty.call(i,d),m=(0,v.useMemo)(function(){return g?f:Object.prototype.hasOwnProperty.call(i,a)?i[a]:r},[]),y=(0,v.useState)(m),F=I()(y,2),V=F[0],P=F[1],N=(0,v.useMemo)(function(){return g?[f,h]:[V,P]},[g,f,V,h]);return N}var Wn=o(27718),Hn=function(){var e=(0,Wn.lr)(),n=I()(e,1),r=n[0];return Object.fromEntries(r)}}}]);
