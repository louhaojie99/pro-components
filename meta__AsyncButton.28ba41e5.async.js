"use strict";(self.webpackChunk_louhaojie99_pro_components=self.webpackChunk_louhaojie99_pro_components||[]).push([[237],{90171:function(H,i,e){var x;e.r(i),e.d(i,{demos:function(){return W}});var l=e(90228),b=e.n(l),A=e(87999),K=e.n(A),E=e(75271),Y=e(45236),p=e(85722),W={"asyncbutton-demo-demos":{component:E.memo(E.lazy(function(){return e.e(290).then(e.bind(e,27117))})),asset:{type:"BLOCK",id:"asyncbutton-demo-demos",refAtomIds:["AsyncButton"],dependencies:{"index.tsx":{type:"FILE",value:e(98966).Z},"@louhaojie99/pro-components":{type:"NPM",value:"0.0.3"},react:{type:"NPM",value:"18.3.1"}},entry:"index.tsx"},context:{"@louhaojie99/pro-components":p,react:x||(x=e.t(E,2))},renderOpts:{compile:function(){var B=K()(b()().mark(function d(){var t,$=arguments;return b()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,e.e(837).then(e.bind(e,57837));case 2:return h.abrupt("return",(t=h.sent).default.apply(t,$));case 3:case"end":return h.stop()}},d)}));function T(){return B.apply(this,arguments)}return T}()}}}},85722:function(H,i,e){e.r(i),e.d(i,{AsyncButton:function(){return h},DestructibleContainer:function(){return oe},EditableTable:function(){return Be},IntlProvider:function(){return ge},LanguageEnum:function(){return M},OverlaySpin:function(){return te}});var x=e(26068),l=e.n(x),b=e(90228),A=e.n(b),K=e(87999),E=e.n(K),Y=e(48305),p=e.n(Y),W=e(67825),B=e.n(W),T=e(27807),d=e(75271),t=e(52676),$=["onClick"],k=d.memo(function(o){var n=o.onClick,a=B()(o,$),s=(0,d.useState)(void 0),m=p()(s,2),c=m[0],v=m[1],C=function(){var u=E()(A()().mark(function f(y){return A()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(n){r.next=2;break}return r.abrupt("return");case 2:return r.prev=2,v(!0),r.next=6,n==null?void 0:n(y);case 6:return r.prev=6,v(!1),r.finish(6);case 9:case"end":return r.stop()}},f,null,[[2,,6,9]])}));return function(y){return u.apply(this,arguments)}}();return(0,t.jsx)(T.ZP,l()({loading:c,onClick:C},a))}),h=k,q=e(40023),ee=["spinning","background","tip"],z="overlay-spin",ne=function(n){var a=n.spinning,s=n.background,m=s===void 0?"#fff":s,c=n.tip,v=B()(n,ee);return a?(0,t.jsxs)("div",{className:"".concat(z,"-container"),style:{"--background":m},children:[(0,t.jsx)(q.Z,l()({className:z,spinning:a},v)),c&&(0,t.jsx)("div",{className:"".concat(z,"-tip"),children:c})]}):null},te=ne,ae=function(n){return function(a){var s=a.visible,m=a.open,c=a.afterVisibleChange,v=a.afterOpenChange,C=a.afterClose,u=s!=null?s:m,f=c!=null?c:v,y=(0,d.useState)(u),g=p()(y,2),r=g[0],S=g[1],G=(0,d.useState)(u===!1),U=p()(G,2),I=U[0],j=U[1],N=function(Z){f==null||f(Z),Z||j(!0)},P=function(){C==null||C(),j(!0)};return(0,d.useEffect)(function(){u?(j(!1),setTimeout(function(){return S(u)},0)):S(u)},[u]),I?(0,t.jsx)(t.Fragment,{}):(0,t.jsx)(n,l()(l()({},a),{},{open:r,afterOpenChange:N,afterClose:P}))}},oe=ae,re=e(69417),le=e(35862),M=function(o){return o.ZH_CN="zh-CN",o.EN_US="en-US",o}({}),se=e(82092),_=e.n(se),ue=e(66262),ie=e(20973),de=e(83144),ce=e(78843),ve={welcome:"hello world"},me=ve,fe={welcome:"\u4F60\u597D\u4E16\u754C"},he=fe,w=function(n){var a=_()(_()({},M.ZH_CN,{message:he,antd:ie.Z}),M.EN_US,{message:me,antd:ue.Z});return a[n]},pe=(0,de.Sn)(),Ce=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:M.ZH_CN;return(0,ce.d)({locale:n,messages:w(n).message},pe)},ye=d.memo(function(o){var n=o.locale,a=o.children,s=Ce(n);return(0,t.jsx)(le.zt,{value:s,children:(0,t.jsx)(re.ZP,{locale:w(n).antd,children:a})})}),ge=ye,Ie=e(15558),Pe=e.n(Ie),Ae=e(29369),Ee=e(72149),De=e(72774),xe=e(63801),J=e(42748),je=e(77995),Oe=xe.Z.Link,be=function(n){var a=n.className,s=n.style,m=n.bordered,c=m===void 0?!1:m,v=n.columns,C=n.formRef,u=n.options,f=u!=null?u:{},y=f.onlyPreview,g=y===void 0?!1:y,r=f.hideAdd,S=r===void 0?!1:r,G=J.Z.useForm(),U=p()(G,1),I=U[0],j=(0,Ee.Z)(n,{defaultValuePropName:"defaultValue",valuePropName:"value",trigger:"onChange"}),N=p()(j,2),P=N[0],Q=N[1];(0,d.useEffect)(function(){I.setFieldsValue({items:P!=null?P:[]})},[P]),(0,d.useImperativeHandle)(C,function(){return I});var Z=(0,De.Z)(function(L){var D=L.remove;return[].concat(Pe()(v!=null?v:[]),[{title:"\u64CD\u4F5C",dataIndex:"action",fixed:"right",render:function(R,X){return(0,t.jsx)(Oe,{disabled:!!g,onClick:function(){return D(X.key)},children:"\u5220\u9664"})}}])}),Te=function(D){Q(D)};return(0,t.jsx)(J.Z,{className:a,form:I,style:l()({},s),autoComplete:"off",component:!1,disabled:!!g,initialValues:{items:P},onValuesChange:function(D,O){var R=O.items;Te(R)},children:(0,t.jsx)(J.Z.List,{name:"items",children:function(D,O){var R=O.add,X=O.remove;return(0,t.jsx)(je.Z,l()(l()({rowKey:"key",bordered:c,dataSource:D.map(function(V){return l()(l()({},I.getFieldValue(["items",V.key])),{},{key:V.name})}),columns:Z({remove:X})},!S&&{footer:function(){return(0,t.jsx)(T.ZP,{block:!0,icon:(0,t.jsx)(Ae.Z,{}),type:"dashed",disabled:!!g,onClick:E()(A()().mark(function Me(){return A()().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:return F.next=2,I.validateFields();case 2:R();case 3:case"end":return F.stop()}},Me)})),children:"\u6DFB\u52A0\u4E00\u884C"})}}),{},{pagination:!1,scroll:{x:"max-content"}}))}})})},Be=be},38439:function(H,i,e){e.r(i),e.d(i,{texts:function(){return l}});var x=e(45236);const l=[{value:"\u4E00\u4E2A\u652F\u6301\u5F02\u6B65\u7684\u6309\u94AE\uFF0ConClick \u4F20\u5165\u5F02\u6B65\u51FD\u6570\u5219\u81EA\u52A8\u663E\u793A loading",paraId:0,tocIndex:0},{value:"AsyncButton \u662F\u4E00\u4E2A\u4E13\u95E8\u8BBE\u8BA1\u7528\u4E8E\u5904\u7406\u5F02\u6B65\u64CD\u4F5C\u7684\u6309\u94AE\u7EC4\u4EF6\u3002\u5F53\u4F60\u9700\u8981\u5728\u7528\u6237\u70B9\u51FB\u6309\u94AE\u540E\u6267\u884C\u4E00\u4E9B\u8017\u65F6\u7684\u64CD\u4F5C\uFF08\u5982\u7F51\u7EDC\u8BF7\u6C42\u3001\u6587\u4EF6\u4E0A\u4F20\u7B49\uFF09\uFF0C\u5E76\u4E14\u5E0C\u671B\u5728\u6B64\u671F\u95F4\u7ED9\u7528\u6237\u63D0\u4F9B\u89C6\u89C9\u4E0A\u7684\u53CD\u9988\uFF08\u6BD4\u5982\u663E\u793A\u52A0\u8F7D\u72B6\u6001\uFF09\uFF0C\u90A3\u4E48 AsyncButton \u5C31\u975E\u5E38\u9002\u5408\u4F60\u7684\u9700\u6C42\u3002",paraId:1,tocIndex:1},{value:"\u5C5E\u6027",paraId:2,tocIndex:3},{value:"\u8BF4\u660E",paraId:2,tocIndex:3},{value:"\u9ED8\u8BA4\u503C",paraId:2,tocIndex:3},{value:"onClick",paraId:2,tocIndex:3},{value:"\u70B9\u51FB\u6309\u94AE\u65F6\u89E6\u53D1\u7684\u56DE\u8C03\u51FD\u6570\uFF0C\u5E94\u8BE5\u8FD4\u56DE\u4E00\u4E2A Promise\uFF0C\u6309\u94AE\u5C06\u5904\u4E8E\u52A0\u8F7D\u72B6\u6001\u3002",paraId:2,tocIndex:3},{value:"(event: React.MouseEvent<HTMLElement, MouseEvent>) => Promise<any>",paraId:2,tocIndex:3},{value:"\u8BE5\u7EC4\u4EF6\u662F\u57FA\u4E8E Ant Design \u7684 Button \u7EC4\u4EF6\u6784\u5EFA\u7684\uFF0C\u6240\u4EE5\u5B83\u4E5F\u7EE7\u627F\u4E86\u6240\u6709 Button \u7EC4\u4EF6\u7684\u5C5E\u6027\u3002\u6709\u5173\u66F4\u591A\u8BE6\u7EC6\u4FE1\u606F\uFF0C\u8BF7\u53C2\u9605 ",paraId:3,tocIndex:3},{value:"Ant Design Button API",paraId:3,tocIndex:3},{value:"\u3002",paraId:3,tocIndex:3}]},98966:function(H,i){i.Z=`import type { AsyncButtonProps } from '@louhaojie99/pro-components';
import { AsyncButton } from '@louhaojie99/pro-components';
import React from 'react';

function sleep(time: number) {
  return new Promise((resolve) => {
    setTimeout(resolve, time);
  });
}

const App: React.FC = () => {
  const handleClick: AsyncButtonProps['onClick'] = async () => {
    await sleep(2000);
  };

  return (
    <div>
      <AsyncButton type="primary" onClick={handleClick}>
        AsyncButton
      </AsyncButton>
    </div>
  );
};

export default App;
`}}]);
