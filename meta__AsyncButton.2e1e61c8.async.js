"use strict";(self.webpackChunk_louhaojie99_pro_components=self.webpackChunk_louhaojie99_pro_components||[]).push([[237],{90171:function(H,m,n){var h;n.r(m),n.d(m,{demos:function(){return C}});var D=n(90228),u=n.n(D),J=n(87999),E=n.n(J),j=n(75271),K=n(45236),W=n(16458),C={"asyncbutton-demo-demos":{component:j.memo(j.lazy(function(){return n.e(290).then(n.bind(n,27117))})),asset:{type:"BLOCK",id:"asyncbutton-demo-demos",refAtomIds:["AsyncButton"],dependencies:{"index.tsx":{type:"FILE",value:n(98966).Z},"@louhaojie99/pro-components":{type:"NPM",value:"0.0.3"},react:{type:"NPM",value:"18.3.1"}},entry:"index.tsx"},context:{"@louhaojie99/pro-components":W,react:h||(h=n.t(j,2))},renderOpts:{compile:function(){var $=E()(u()().mark(function b(){var c,a=arguments;return u()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.next=2,n.e(837).then(n.bind(n,57837));case 2:return p.abrupt("return",(c=p.sent).default.apply(c,a));case 3:case"end":return p.stop()}},b)}));function B(){return $.apply(this,arguments)}return B}()}}}},16458:function(H,m,n){n.r(m),n.d(m,{AsyncButton:function(){return q},DestructibleContainer:function(){return on},EditableTable:function(){return Tn},IntlProvider:function(){return Pn},LanguageEnum:function(){return T},OverlaySpin:function(){return an},utils:function(){return h}});var h={};n.r(h),n.d(h,{parseJSON:function(){return Mn}});var D=n(26068),u=n.n(D),J=n(90228),E=n.n(J),j=n(87999),K=n.n(j),W=n(48305),C=n.n(W),$=n(67825),B=n.n($),b=n(27807),c=n(75271),a=n(52676),k=["onClick"],p=c.memo(function(r){var e=r.onClick,t=B()(r,k),o=(0,c.useState)(void 0),v=C()(o,2),s=v[0],i=v[1],g=function(){var d=K()(E()().mark(function f(y){return E()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(e){l.next=2;break}return l.abrupt("return");case 2:return l.prev=2,i(!0),l.next=6,e==null?void 0:e(y);case 6:return l.prev=6,i(!1),l.finish(6);case 9:case"end":return l.stop()}},f,null,[[2,,6,9]])}));return function(y){return d.apply(this,arguments)}}();return(0,a.jsx)(b.ZP,u()({loading:s,onClick:g},t))}),q=p,nn=n(40023),en=["spinning","background","tip"],z="overlay-spin",tn=function(e){var t=e.spinning,o=e.background,v=o===void 0?"#fff":o,s=e.tip,i=B()(e,en);return t?(0,a.jsxs)("div",{className:"".concat(z,"-container"),style:{"--background":v},children:[(0,a.jsx)(nn.Z,u()({className:z,spinning:t},i)),s&&(0,a.jsx)("div",{className:"".concat(z,"-tip"),children:s})]}):null},an=tn,rn=function(e){return function(t){var o=t.visible,v=t.open,s=t.afterVisibleChange,i=t.afterOpenChange,g=t.afterClose,d=o!=null?o:v,f=s!=null?s:i,y=(0,c.useState)(d),I=C()(y,2),l=I[0],M=I[1],Q=(0,c.useState)(d===!1),N=C()(Q,2),P=N[0],x=N[1],U=function(V){f==null||f(V),V||x(!0)},A=function(){g==null||g(),x(!0)};return(0,c.useEffect)(function(){d?(x(!1),setTimeout(function(){return M(d)},0)):M(d)},[d]),P?(0,a.jsx)(a.Fragment,{}):(0,a.jsx)(e,u()(u()({},t),{},{open:l,afterOpenChange:U,afterClose:A}))}},on=rn,ln=n(69417),sn=n(35862),T=function(r){return r.ZH_CN="zh-CN",r.EN_US="en-US",r}({}),un=n(82092),w=n.n(un),dn=n(66262),cn=n(20973),vn=n(83144),mn=n(78843),fn={welcome:"hello world"},pn=fn,hn={welcome:"\u4F60\u597D\u4E16\u754C"},Cn=hn,_=function(e){var t=w()(w()({},T.ZH_CN,{message:Cn,antd:cn.Z}),T.EN_US,{message:pn,antd:dn.Z});return t[e]},gn=(0,vn.Sn)(),yn=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:T.ZH_CN;return(0,mn.d)({locale:e,messages:_(e).message},gn)},In=c.memo(function(r){var e=r.locale,t=r.children,o=yn(e);return(0,a.jsx)(sn.zt,{value:o,children:(0,a.jsx)(ln.ZP,{locale:_(e).antd,children:t})})}),Pn=In,An=n(15558),En=n.n(An),On=n(29369),Dn=n(72149),jn=n(72774),xn=n(63801),G=n(42748),Sn=n(77995),Bn=xn.Z.Link,bn=function(e){var t=e.className,o=e.style,v=e.bordered,s=v===void 0?!1:v,i=e.columns,g=e.formRef,d=e.options,f=d!=null?d:{},y=f.onlyPreview,I=y===void 0?!1:y,l=f.hideAdd,M=l===void 0?!1:l,Q=G.Z.useForm(),N=C()(Q,1),P=N[0],x=(0,Dn.Z)(e,{defaultValuePropName:"defaultValue",valuePropName:"value",trigger:"onChange"}),U=C()(x,2),A=U[0],X=U[1];(0,c.useEffect)(function(){P.setFieldsValue({items:A!=null?A:[]})},[A]),(0,c.useImperativeHandle)(g,function(){return P});var V=(0,jn.Z)(function(Z){var O=Z.remove;return[].concat(En()(i!=null?i:[]),[{title:"\u64CD\u4F5C",dataIndex:"action",fixed:"right",render:function(L,Y){return(0,a.jsx)(Bn,{disabled:!!I,onClick:function(){return O(Y.key)},children:"\u5220\u9664"})}}])}),Nn=function(O){X(O)};return(0,a.jsx)(G.Z,{className:t,form:P,style:u()({},o),autoComplete:"off",component:!1,disabled:!!I,initialValues:{items:A},onValuesChange:function(O,S){var L=S.items;Nn(L)},children:(0,a.jsx)(G.Z.List,{name:"items",children:function(O,S){var L=S.add,Y=S.remove;return(0,a.jsx)(Sn.Z,u()(u()({rowKey:"key",bordered:s,dataSource:O.map(function(R){return u()(u()({},P.getFieldValue(["items",R.key])),{},{key:R.name})}),columns:V({remove:Y})},!M&&{footer:function(){return(0,a.jsx)(b.ZP,{block:!0,icon:(0,a.jsx)(On.Z,{}),type:"dashed",disabled:!!I,onClick:K()(E()().mark(function Un(){return E()().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:return F.next=2,P.validateFields();case 2:L();case 3:case"end":return F.stop()}},Un)})),children:"\u6DFB\u52A0\u4E00\u884C"})}}),{},{pagination:!1,scroll:{x:"max-content"}}))}})})},Tn=bn,Mn=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=function(i){return typeof i=="string"};try{if(!o(e))return t;var v=JSON.parse(e!=null?e:"");return v}catch(s){return console.error("Error parsing JSON:",s),t}}},38439:function(H,m,n){n.r(m),n.d(m,{texts:function(){return D}});var h=n(45236);const D=[{value:"\u4E00\u4E2A\u652F\u6301\u5F02\u6B65\u7684\u6309\u94AE\uFF0ConClick \u4F20\u5165\u5F02\u6B65\u51FD\u6570\u5219\u81EA\u52A8\u663E\u793A loading",paraId:0,tocIndex:0},{value:"AsyncButton \u662F\u4E00\u4E2A\u4E13\u95E8\u8BBE\u8BA1\u7528\u4E8E\u5904\u7406\u5F02\u6B65\u64CD\u4F5C\u7684\u6309\u94AE\u7EC4\u4EF6\u3002\u5F53\u4F60\u9700\u8981\u5728\u7528\u6237\u70B9\u51FB\u6309\u94AE\u540E\u6267\u884C\u4E00\u4E9B\u8017\u65F6\u7684\u64CD\u4F5C\uFF08\u5982\u7F51\u7EDC\u8BF7\u6C42\u3001\u6587\u4EF6\u4E0A\u4F20\u7B49\uFF09\uFF0C\u5E76\u4E14\u5E0C\u671B\u5728\u6B64\u671F\u95F4\u7ED9\u7528\u6237\u63D0\u4F9B\u89C6\u89C9\u4E0A\u7684\u53CD\u9988\uFF08\u6BD4\u5982\u663E\u793A\u52A0\u8F7D\u72B6\u6001\uFF09\uFF0C\u90A3\u4E48 AsyncButton \u5C31\u975E\u5E38\u9002\u5408\u4F60\u7684\u9700\u6C42\u3002",paraId:1,tocIndex:1},{value:"\u5C5E\u6027",paraId:2,tocIndex:3},{value:"\u8BF4\u660E",paraId:2,tocIndex:3},{value:"\u9ED8\u8BA4\u503C",paraId:2,tocIndex:3},{value:"onClick",paraId:2,tocIndex:3},{value:"\u70B9\u51FB\u6309\u94AE\u65F6\u89E6\u53D1\u7684\u56DE\u8C03\u51FD\u6570\uFF0C\u5E94\u8BE5\u8FD4\u56DE\u4E00\u4E2A Promise\uFF0C\u6309\u94AE\u5C06\u5904\u4E8E\u52A0\u8F7D\u72B6\u6001\u3002",paraId:2,tocIndex:3},{value:"(event: React.MouseEvent<HTMLElement, MouseEvent>) => Promise<any>",paraId:2,tocIndex:3},{value:"\u8BE5\u7EC4\u4EF6\u662F\u57FA\u4E8E Ant Design \u7684 Button \u7EC4\u4EF6\u6784\u5EFA\u7684\uFF0C\u6240\u4EE5\u5B83\u4E5F\u7EE7\u627F\u4E86\u6240\u6709 Button \u7EC4\u4EF6\u7684\u5C5E\u6027\u3002\u6709\u5173\u66F4\u591A\u8BE6\u7EC6\u4FE1\u606F\uFF0C\u8BF7\u53C2\u9605 ",paraId:3,tocIndex:3},{value:"Ant Design Button API",paraId:3,tocIndex:3},{value:"\u3002",paraId:3,tocIndex:3}]},98966:function(H,m){m.Z=`import type { AsyncButtonProps } from '@louhaojie99/pro-components';
import { AsyncButton } from '@louhaojie99/pro-components';
import React from 'react';

function sleep(time: number) {
  return new Promise((resolve) => {
    setTimeout(resolve, time);
  });
}

const App: React.FC = () => {
  const handleClick: AsyncButtonProps['onClick'] = async () => {
    await sleep(2000);
  };

  return (
    <div>
      <AsyncButton type="primary" onClick={handleClick}>
        AsyncButton
      </AsyncButton>
    </div>
  );
};

export default App;
`}}]);
