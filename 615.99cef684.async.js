"use strict";(self.webpackChunk_louhaojie99_pro_components=self.webpackChunk_louhaojie99_pro_components||[]).push([[615],{87615:function(Xn,ee,o){o.r(ee),o.d(ee,{AsyncButton:function(){return he},CollapseSelect:function(){return je},EditableTable:function(){return Ie},ErrorBoundary:function(){return cn},HOCS:function(){return Y},HOOKS:function(){return w},IntlProvider:function(){return Ge},Language:function(){return W},OverlaySpin:function(){return Xe},Portal:function(){return qe},SearchForm:function(){return Cn},TabsSelect:function(){return Qe},Utils:function(){return X}});var X={};o.r(X),o.d(X,{getColumnFilterProps:function(){return Pn},getColumnSearchProps:function(){return yn},getColumnSorterProps:function(){return Vn},getUrlParams:function(){return En},mergeSameValueRowCell:function(){return jn},parseJson:function(){return pn}});var Y={};o.r(Y),o.d(Y,{destructibleContainer:function(){return bn},optionInValueSelect:function(){return On},withProviders:function(){return In},withSelectAll:function(){return Zn}});var w={};o.r(w),o.d(w,{useBoolean:function(){return Kn},useControllableValue:function(){return Wn},useDidMount:function(){return Tn},useDisableSwipe:function(){return Nn},useEffectOnceWhen:function(){return Dn},useSetState:function(){return $n},useTitle:function(){return Bn},useUpdateEffect:function(){return Un},useUrlParams:function(){return Gn},useWillUnmount:function(){return Rn}});var se=o(26068),g=o.n(se),ce=o(90228),K=o.n(ce),de=o(87999),Q=o.n(de),fe=o(48305),A=o.n(fe),ve=o(67825),R=o.n(ve),M=o(36830),v=o(75271),u=o(52676),me=["onClick"],he=v.memo(function(i){var e=i.onClick,n=R()(i,me),r=(0,v.useState)(void 0),t=A()(r,2),a=t[0],l=t[1],d=function(){var s=Q()(K()().mark(function c(f){var h;return K()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:if(!(!e||typeof e!="function")){m.next=2;break}return m.abrupt("return");case 2:if(h=e(f),!(h instanceof Promise)){m.next=11;break}return m.prev=4,l(!0),m.next=8,h;case 8:return m.prev=8,l(!1),m.finish(8);case 11:case"end":return m.stop()}},c,null,[[4,,8,11]])}));return function(f){return s.apply(this,arguments)}}();return(0,u.jsx)(M.ZP,g()({loading:a,onClick:d},n))}),ge=o(73813),k=o(32547),ne=o(4491),q=o(17363),Ce=o(20363),z=o(63571),pe=o(82187),Se=o.n(pe),I=o(32699),ye=["loading","options","defaultValue","collapseProps","defaultActiveFirst"],Pe=["className"],Ve="collapse-select",je=function(e){var n,r=e.loading,t=r===void 0?!1:r,a=e.options,l=e.defaultValue,d=e.collapseProps,s=e.defaultActiveFirst,c=s===void 0?!1:s,f=R()(e,ye),h=d!=null?d:{},p=h.className,m=R()(h,Pe),y=c?a==null||(n=a[0])===null||n===void 0?void 0:n.panelKey:void 0,x=(0,k.Z)(e,{defaultValue:l||{activeKey:y,selectValue:void 0}}),E=A()(x,2),S=E[0],N=E[1],T=S!=null?S:{},O=T.activeKey,b=O===void 0?y:O,$=T.selectValue,C=(0,v.useMemo)(function(){return(0,I.keyBy)(a,"panelKey")},[a]),V=(0,v.useMemo)(function(){var P,Z;return b?(P=(Z=C[b])===null||Z===void 0?void 0:Z.panelOptions)!==null&&P!==void 0?P:[]:[]},[C,b]),j=function(Z){N(function(F){return g()(g()({},F),{},{activeKey:Z[0]})})},D=function(Z,F){N(function(U){return g()(g()({},U),{},{selectValue:F})})};return(0,u.jsx)(ne.default,g()({loading:t,popupRender:function(Z){return(0,u.jsx)(q.Z,{spinning:t,children:(0,u.jsx)(Ce.Z,g()({className:Se()("".concat(Ve,"-collapse-wrapper-container"),p),accordion:!0,ghost:!0,expandIcon:function(U){var L=U.isActive;return(0,u.jsx)(ge.Z,{rotate:L?90:0})},activeKey:b,items:Object.values(C).map(function(F){return{key:F.panelKey,label:F.panelLabel||F.panelKey,children:Z}}),onChange:j},m))})},notFoundContent:(0,u.jsx)(z.Z,{image:z.Z.PRESENTED_IMAGE_SIMPLE}),labelInValue:!0,defaultActiveFirstOption:!1,value:$,onChange:D,options:V},(0,I.omit)(f,["value","onChange"])))},Ee=o(15558),be=o.n(Ee),xe=o(16621),re=o(81997),Oe=o(54556),B=o(29153),Fe=o(57583),Ae=[],Ze=Oe.Z.Link,Ie=function(e){var n=e.className,r=e.style,t=e.bordered,a=t===void 0?!1:t,l=e.columns,d=l===void 0?Ae:l,s=e.formRef,c=e.options,f=e.tableProps,h=c!=null?c:{},p=h.onlyPreview,m=p===void 0?!1:p,y=h.hideAdd,x=y===void 0?!1:y,E=h.addButtonText,S=(0,v.useMemo)(function(){return(0,I.omit)(f,["rowKey","bordered","dataSource","columns","footer"])},[f]),N=B.Z.useForm(),T=A()(N,1),O=T[0],b=(0,k.Z)(e,{defaultValuePropName:"defaultValue",valuePropName:"value",trigger:"onChange"}),$=A()(b,2),C=$[0],V=$[1];(0,v.useEffect)(function(){O.setFieldsValue({items:C!=null?C:[]})},[C]),(0,v.useImperativeHandle)(s,function(){return O});var j=(0,re.Z)(function(P){var Z=P.remove;return[].concat(be()(d),[{title:"\u64CD\u4F5C",dataIndex:"action",fixed:"right",render:function(U,L){return(0,u.jsx)(Ze,{disabled:!!m,onClick:function(){return Z(L.key)},children:"\u5220\u9664"})}}])}),D=(0,re.Z)(function(P){V(P)});return(0,u.jsx)(B.Z,{className:n,form:O,style:g()({},r),autoComplete:"off",component:!1,disabled:!!m,initialValues:{items:C},onValuesChange:function(Z,F){var U=F.items;D(U)},children:(0,u.jsx)(B.Z.List,{name:"items",children:function(Z,F){var U=F.add,L=F.remove;return(0,u.jsx)(Fe.Z,g()(g()({rowKey:"key",bordered:a,dataSource:Z.map(function(G){return g()(g()({},O.getFieldValue(["items",G.key])),{},{key:G.name})}),columns:j({remove:L})},!x&&{footer:function(){return(0,u.jsx)(M.ZP,{block:!0,icon:(0,u.jsx)(xe.Z,{}),type:"dashed",disabled:!!m,onClick:Q()(K()().mark(function Jn(){return K()().wrap(function(J){for(;;)switch(J.prev=J.next){case 0:return J.next=2,O.validateFields();case 2:U();case 3:case"end":return J.stop()}},Jn)})),children:E||"\u6DFB\u52A0\u4E00\u884C"})}}),{},{pagination:!1,scroll:{x:"max-content"}},S))}})})},Ne=o(36114),Te=o(64556),W=function(i){return i.ZH_CN="zh-CN",i.EN_US="en-US",i}({}),De=o(82092),H=o.n(De),Re=o(37461),$e=o(59699),Ue=o(75414),Me=o(6076),Be={welcome:"hello world"},Ke=Be,Le={welcome:"\u4F60\u597D\u4E16\u754C"},ze=Le,te=function(e){var n=H()(H()({},W.ZH_CN,{message:ze,antd:$e.Z}),W.EN_US,{message:Ke,antd:Re.Z});return n[e]},We=(0,Ue.Sn)(),He=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:W.ZH_CN;return(0,Me.d)({locale:e,messages:te(e).message},We)},Ge=v.memo(function(i){var e=i.locale,n=i.children,r=He(e);return(0,u.jsx)(Te.zt,{value:r,children:(0,u.jsx)(Ne.ZP,{locale:te(e).antd,children:n})})}),Je=["spinning","background","tip"],_="overlay-spin",Xe=function(e){var n=e.spinning,r=e.background,t=r===void 0?"#fff":r,a=e.tip,l=R()(e,Je);return n?(0,u.jsxs)("div",{className:"".concat(_,"-container"),style:{"--background":t},children:[(0,u.jsx)(q.Z,g()({className:_,spinning:n},l)),a&&(0,u.jsx)("div",{className:"".concat(_,"-tip"),children:a})]}):null},Ye=o(15004),we=["loading","options","defaultValue","tabsProps"],Qe=function(e){var n,r,t=e.loading,a=t===void 0?!1:t,l=e.options,d=e.defaultValue,s=e.tabsProps,c=R()(e,we),f=(n=l==null||(r=l[0])===null||r===void 0?void 0:r.tabKey)!==null&&n!==void 0?n:"",h=(0,k.Z)(e,{defaultValue:d||{activeTab:f,selectValue:void 0}}),p=A()(h,2),m=p[0],y=p[1],x=m!=null?m:{},E=x.activeTab,S=E===void 0?f:E,N=x.selectValue,T=(0,v.useMemo)(function(){return(0,I.keyBy)(l,"tabKey")},[l]),O=(0,v.useMemo)(function(){var C,V;return S?(C=(V=T[S])===null||V===void 0?void 0:V.tabOptions)!==null&&C!==void 0?C:[]:[]},[T,S]),b=function(V){y(function(j){return g()(g()({},j),{},{activeTab:V})})},$=function(V,j){y(function(D){return g()(g()({},D),{},{selectValue:j})})};return(0,u.jsx)(ne.default,g()({loading:a,popupRender:function(V){var j=(0,u.jsx)(q.Z,{spinning:a,children:V});return l?(0,u.jsx)(Ye.Z,g()({style:{padding:"0 8px"},size:"small",items:l==null?void 0:l.map(function(D){return{key:D.tabKey,label:D.tabLabel,children:j,disabled:a}}),activeKey:S,onChange:b},s)):j},notFoundContent:(0,u.jsx)(z.Z,{image:z.Z.PRESENTED_IMAGE_SIMPLE}),labelInValue:!0,defaultActiveFirstOption:!1,value:N,options:O,onChange:$},(0,I.omit)(c,["value","onChange"])))},ke=o(30967),qe=function(e){var n=e.getContainer,r=e.children,t=n?n():document.body;return ke.createPortal(r,t)},_e=o(25298),en=o.n(_e),nn=o(17069),rn=o.n(nn),tn=o(62657),ae=o.n(tn),an=o(21742),ln=o.n(an),on=o(83136),un=o.n(on),sn=function(e){var n=e.error,r=e.errorInfo,t=e.resetError;return(0,u.jsxs)("div",{style:{padding:"20px",color:"#f00",backgroundColor:"#fdd",borderRadius:"6px"},children:[(0,u.jsx)("h3",{children:"\u51FA\u73B0\u9519\u8BEF\u5566 \u{1F622}"}),(0,u.jsx)("p",{children:n==null?void 0:n.message}),(0,u.jsx)("pre",{style:{whiteSpace:"pre-wrap"},children:r==null?void 0:r.componentStack}),(0,u.jsx)("button",{onClick:function(){return t==null?void 0:t()},children:"\u91CD\u8BD5"})]})},cn=function(i){ln()(n,i);var e=un()(n);function n(){var r;en()(this,n);for(var t=arguments.length,a=new Array(t),l=0;l<t;l++)a[l]=arguments[l];return r=e.call.apply(e,[this].concat(a)),H()(ae()(r),"state",{hasError:!1,error:null,errorInfo:null}),H()(ae()(r),"resetError",function(){r.setState({hasError:!1,error:null,errorInfo:null})}),r}return rn()(n,[{key:"componentDidUpdate",value:function(t,a){a.hasError&&!this.state.hasError&&this.setState({error:null,errorInfo:null})}},{key:"componentDidCatch",value:function(t,a){var l=this.props.onError;this.setState({error:t,errorInfo:a}),l==null||l(t,a)}},{key:"render",value:function(){var t=this.state,a=t.hasError,l=t.error,d=t.errorInfo,s=this.props,c=s.fallbackRender,f=s.children;return a?c?(0,u.jsx)("div",{className:"error-boundary",children:c(l,d,this.resetError)}):(0,u.jsx)(sn,{error:l,errorInfo:d,resetError:this.resetError}):f}}],[{key:"getDerivedStateFromError",value:function(t){return{hasError:!0,error:t}}}]),n}(v.Component),le=o(17023),dn=o(4093),fn=o(13143),vn=o(84896),mn=o(76102),hn=o(37082),oe=o(30534),gn=["itemKey","colSpan"],Cn=function(e){var n=e.className,r=e.style,t=e.items,a=e.onSearch,l=e.onReset,d=e.showCollapse,s=e.defaultVisibleItemCount,c=s===void 0?3:s,f=e.searchLoading,h=f===void 0?!1:f,p=B.Z.useForm(),m=A()(p,1),y=m[0],x=(0,v.useState)(!!(d&&t.length>c)),E=A()(x,2),S=E[0],N=E[1],T=function(){var C=Q()(K()().mark(function V(){var j;return K()().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.next=2,y.validateFields();case 2:j=P.sent,a==null||a(j);case 4:case"end":return P.stop()}},V)}));return function(){return C.apply(this,arguments)}}(),O=function(){y.resetFields(),l==null||l()},b=(0,v.useMemo)(function(){return(S?t.slice(0,c):t).map(function(C){return g()(g()({},C),{},{itemKey:Array.isArray(C.name)?C.name.join("_"):C.name})})},[S,t,c]),$=(0,v.useMemo)(function(){return(0,u.jsxs)(mn.Z,{size:"middle",children:[(0,u.jsx)(M.ZP,{type:"primary",icon:(0,u.jsx)(le.Z,{}),loading:h,onClick:T,children:"\u67E5\u8BE2"}),(0,u.jsx)(M.ZP,{type:"default",icon:(0,u.jsx)(dn.Z,{}),onClick:O,children:"\u91CD\u7F6E"}),d&&(0,u.jsx)(M.ZP,{type:"link",icon:S?(0,u.jsx)(fn.Z,{}):(0,u.jsx)(vn.Z,{}),onClick:function(){return N(!S)},children:S?"\u5C55\u5F00":"\u6536\u8D77"})]})},[y,a,l,S,h]);return(0,u.jsx)(B.Z,{className:n,style:g()({},r),form:y,autoComplete:"off",children:(0,u.jsxs)(hn.Z,{gutter:[16,0],align:"top",children:[b==null?void 0:b.map(function(C){var V=C.itemKey,j=C.colSpan,D=j===void 0?8:j,P=R()(C,gn);return(0,u.jsx)(oe.Z,{span:D,children:(0,u.jsx)(B.Z.Item,g()({},P))},V)}),(0,u.jsx)(oe.Z,{flex:"auto",style:{textAlign:"right"},children:(0,u.jsx)(B.Z.Item,{children:$})})]})})},pn=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(typeof e!="string")return n;try{return JSON.parse(e)}catch(r){return console.error("parse json error:",r),n}},Sn=o(34366),ue=function(e,n,r){var t=(0,I.get)(n,r);return String(t!=null?t:"").toUpperCase().includes(String(e!=null?e:"").toUpperCase())},yn=function(e){return{filterDropdown:function(r){var t=r.setSelectedKeys,a=r.selectedKeys,l=r.confirm,d=r.clearFilters;return(0,u.jsxs)("div",{style:{padding:8},children:[(0,u.jsx)(Sn.Z,{placeholder:"\u641C\u7D22",value:a[0],onChange:function(c){return t(c.target.value?[c.target.value]:[])},onPressEnter:function(){return l()},style:{width:188,marginBottom:8,display:"block"}}),(0,u.jsx)(M.ZP,{size:"small",type:"primary",onClick:function(){return l()},style:{width:90,marginRight:8},children:"\u641C\u7D22"}),(0,u.jsx)(M.ZP,{size:"small",type:"default",onClick:function(){return d==null?void 0:d()},style:{width:90},children:"\u91CD\u7F6E"})]})},filterIcon:function(r){return(0,u.jsx)(le.Z,{style:{color:r?"#2f54eb":void 0}})},onFilter:function(r,t){return ue(r,t,e)}}},Pn=function(e,n){var r=n!=null?n:{},t=r.filters,a=r.filterMultiple;return{onFilter:function(d,s){return ue(d,s,e)},filters:t,filterMultiple:a}},Vn=function(e){return{sorter:function(r,t){var a=(0,I.get)(r,e),l=(0,I.get)(t,e),d=Number(a),s=Number(l);return!Number.isNaN(d)&&!Number.isNaN(s)?d-s:(0,I.isString)(a)&&(0,I.isString)(l)?a.localeCompare(l):0}}},jn=function(e,n){var r=function(a,l){var d,s,c=a[n],f=(d=e[l+1])===null||d===void 0?void 0:d[n],h=(s=e[l-1])===null||s===void 0?void 0:s[n],p=e.findIndex(function(y){return y[n]===c});if(c===f&&p===l){var m=e.filter(function(y){return y[n]===c}).length;return{rowSpan:m}}return c===h?{rowSpan:0}:{}};return{onCell:r}},En=function(){var e=window.location.href.split("?")[1],n=new URLSearchParams(e);return Object.fromEntries(n.entries())},bn=function(e){return function(n){var r=n.visible,t=n.open,a=n.afterVisibleChange,l=n.afterOpenChange,d=n.afterClose,s=r!=null?r:t,c=a!=null?a:l,f=(0,v.useState)(s),h=A()(f,2),p=h[0],m=h[1],y=(0,v.useState)(s===!1),x=A()(y,2),E=x[0],S=x[1],N=function(b){c==null||c(b),b||S(!0)},T=function(){d==null||d(),S(!0)};return(0,v.useEffect)(function(){s?(S(!1),setTimeout(function(){return m(s)},0)):m(s)},[s]),E?(0,u.jsx)(u.Fragment,{}):(0,u.jsx)(e,g()(g()({},n),{},{open:p,afterOpenChange:N,afterClose:T}))}},xn=["optionInValue","value","labelInValue","onChange"],On=function(e){return function(n){var r=n.optionInValue,t=n.value,a=n.labelInValue,l=n.onChange,d=R()(n,xn),s=function(f,h){!(0,I.isNil)(f)&&r?l==null||l(h,h):l==null||l(f,h)};return(0,u.jsx)(e,g()({value:t,labelInValue:a!=null?a:r,onChange:s},d))}},Fn=["allOptionValue","onChange"],An="all",Zn=function(e){return function(n){var r=n.allOptionValue,t=r===void 0?An:r,a=n.onChange,l=R()(n,Fn),d=function(c,f){if(!Array.isArray(c)||!Array.isArray(f)){a==null||a(c,f);return}var h=(0,I.last)(c);if(c.length===0||h===t){a==null||a([t],f==null?void 0:f.filter(function(p){return p.value===t}));return}a==null||a(c.filter(function(p){return p!==t}),f==null?void 0:f.filter(function(p){return p.value!==t}))};return(0,u.jsx)(e,g()({mode:"multiple",onChange:d},l))}},In=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return function(t){return n.reduce(function(a,l){return l(a)},t)}},ie=function(e){var n=document.querySelector("html"),r=document.querySelector("body");n&&r&&(e?(n.style.overscrollBehaviorX="none",r.style.overscrollBehaviorX="none"):(n.style.overscrollBehaviorX="auto",r.style.overscrollBehaviorX="auto"))},Nn=function(){(0,v.useEffect)(function(){return ie(!0),function(){ie(!1)}},[])},Tn=function(e){(0,v.useEffect)(function(){typeof e=="function"&&e()},[])},Dn=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=(0,v.useRef)(e),t=(0,v.useRef)(!1);(0,v.useEffect)(function(){r.current=e}),(0,v.useEffect)(function(){n&&!t.current&&typeof r.current=="function"&&(r.current(),t.current=!0)},[n])},Rn=function(e){(0,v.useEffect)(function(){if(typeof e=="function")return e},[])},$n=function(e){var n=(0,v.useState)(e),r=A()(n,2),t=r[0],a=r[1],l=(0,v.useCallback)(function(s){a(function(c){var f=typeof s=="function"?s(c):s;return f?g()(g()({},c),f):c})},[a]),d=(0,v.useMemo)(function(){return[t,l]},[t,l]);return d},Un=function(e,n){var r=(0,v.useRef)(!1);(0,v.useEffect)(function(){if(!r.current){r.current=!0;return}return typeof e=="function"?e():function(){r.current=!1}},n)},Mn=!!(typeof window!="undefined"&&window.document&&window.document.createElement),Bn=function(e,n){var r=n!=null?n:{},t=r.restoreOnUnmount,a=t===void 0?!1:t,l=(0,v.useRef)(Mn?document.title:"");(0,v.useEffect)(function(){return document.title=e,function(){a&&(document.title=l.current)}},[e])},Kn=function(e){var n=(0,v.useState)(e),r=A()(n,2),t=r[0],a=r[1],l=(0,v.useMemo)(function(){var s=function(){a(function(m){return!m})},c=function(m){a(!!m)},f=function(){a(!0)},h=function(){a(!1)};return{toggle:s,set:c,setTrue:f,setFalse:h}},[]),d=(0,v.useMemo)(function(){return[t,l]},[t,l]);return d},Ln={},zn={};function Wn(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ln,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:zn,n=e!=null?e:{},r=n.defaultValue,t=n.defaultValuePropName,a=t===void 0?"defaultValue":t,l=n.valuePropName,d=l===void 0?"value":l,s=n.trigger,c=s===void 0?"onChange":s,f=i[d],h=i[c],p=Object.prototype.hasOwnProperty.call(i,d),m=(0,v.useMemo)(function(){return p?f:Object.prototype.hasOwnProperty.call(i,a)?i[a]:r},[]),y=(0,v.useState)(m),x=A()(y,2),E=x[0],S=x[1],N=(0,v.useMemo)(function(){return p?[f,h]:[E,S]},[p,f,E,h]);return N}var Hn=o(83456),Gn=function(){var e=(0,Hn.lr)(),n=A()(e,1),r=n[0];return Object.fromEntries(r)}}}]);
